/*! @francoischalifour/autocomplete-preset-algolia 1.0.0-alpha.28 (UNRELEASED 0a58769) | MIT License | Â© Algolia, Inc. and contributors | https://github.com/francoischalifour/autocomplete.js */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["@francoischalifour/autocomplete-preset-algolia"]={})}(this,(function(e){"use strict";function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(i){t(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){var t=e.searchClient,i=e.queries;return"function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("autocomplete-core",void 0),t.search(i.map((function(e){return{indexName:e.indexName,query:e.query,params:r({hitsPerPage:5,highlightPreTag:"<mark>",highlightPostTag:"</mark>"},e.params)}})))}function h(e){var t=e.highlightPreTag,i=void 0===t?"<mark>":t,r=e.highlightPostTag,n=void 0===r?"</mark>":r,h=e.highlightedValue.split(i),g=h.shift(),u=g?[{value:g,isHighlighted:!1}]:[];if(n===i){var a=!0;h.forEach((function(e){u.push({value:e,isHighlighted:a}),a=!a}))}else h.forEach((function(e){var t=e.split(n);u.push({value:t[0],isHighlighted:!0}),""!==t[1]&&u.push({value:t[1],isHighlighted:!1})}));return u}function g(e,t){var i=t.split(".").reduce((function(e,t){return e&&e[t]}),e);if("string"!=typeof i)throw new Error("The attribute ".concat(JSON.stringify(t)," does not exist on the hit."));return i}e.getAlgoliaHits=function(e){return n({searchClient:e.searchClient,queries:e.queries}).then((function(e){var t=e.results;return t.map((function(e){return e.hits})).reduce((function(e,t){return e.concat(t)}),[])}))},e.getAlgoliaResults=function(e){return n({searchClient:e.searchClient,queries:e.queries}).then((function(e){return e.results}))},e.parseHighlightedAttribute=function(e){var t=e.hit,i=e.attribute;return h({highlightPreTag:e.highlightPreTag,highlightPostTag:e.highlightPostTag,highlightedValue:g(t,"_highlightResult.".concat(i,".value"))})},e.parseReverseHighlightedAttribute=function(e){var t=e.hit,i=e.attribute,n=h({highlightPreTag:e.highlightPreTag,highlightPostTag:e.highlightPostTag,highlightedValue:g(t,"_highlightResult.".concat(i,".value"))});return n.some((function(e){return e.isHighlighted}))?n.map((function(e){return r(r({},e),{},{isHighlighted:!e.isHighlighted})})):n.map((function(e){return r(r({},e),{},{isHighlighted:!1})}))},e.parseSnippetedAttribute=function(e){var t=e.hit,i=e.attribute;return h({highlightPreTag:e.highlightPreTag,highlightPostTag:e.highlightPostTag,highlightedValue:g(t,"_snippetResult.".concat(i,".value"))})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
